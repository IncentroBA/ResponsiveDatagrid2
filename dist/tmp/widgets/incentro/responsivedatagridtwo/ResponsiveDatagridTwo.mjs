import { useRef, useState, useEffect, createElement } from 'react';

function ResponsiveDatagridTwo({
  dataGridWidget,
  desktopBreakpoint,
  keepLastBoolean,
  maxColumnsMobile,
  maxColumnsTablet,
  mobileBreakpoint,
  ...rest
}) {
  const style = rest.class || "";
  const datagridWidgetRef = useRef(null);
  const datagridRowsRef = useRef([]);
  const [tableContent, setTableContent] = useState(null);
  const [canRender, setCanRender] = useState(false);
  const [templateColumns, setTemplateColumns] = useState(null);
  const [screenMode, setSceenMode] = useState(null);
  const config = {
    // attributes: true,
    // attributeOldValue: true,
    childList: true,
    // This is a must have for the observer with subtree
    subtree: true // Set to true if changes must also be observed in descendants.
  };
  function screenSizeCheck() {
    if (window.innerWidth <= mobileBreakpoint) {
      if (screenMode !== "mobile") {
        setSceenMode("mobile");
      }
    } else if (window.innerWidth > mobileBreakpoint && window.innerWidth < desktopBreakpoint) {
      if (screenMode !== "tablet") {
        setSceenMode("tablet");
      }
    } else if (window.innerWidth >= desktopBreakpoint) {
      if (screenMode !== "desktop") {
        setSceenMode("desktop");
      }
    }
  }
  useEffect(() => {
    function setGridColumns() {
      const offset = keepLastBoolean ? -1 : 0;
      const columnArray = templateColumns.replace("grid-template-columns: ", "").split(/ (?![^()]*\))/); // Regex for space when not inside ()
      const visibleColumns = screenMode === "mobile" ? maxColumnsMobile : maxColumnsTablet;
      const maxColumnArray = columnArray.slice(columnArray.length - visibleColumns - offset); // remove all but the last maxColumnsMobile

      if (offset) {
        maxColumnArray.push("fit-content(100%)");
      }
      maxColumnArray.join(" ").replace(";", "");
      maxColumnArray.unshift("fit-content(100%)"); // add new column for the chevron
      maxColumnArray.splice(2, 1, "1fr"); // convert at least one auto-fill column to auto-fill
      tableContent.setAttribute("style", `grid-template-columns: ${maxColumnArray.join(" ").replace(";", "")};`);
    }
    function toggleTrCollapse(event, chevronBtn) {
      console.info("toggleTrCollapse");
      const notCollapsed = [...document.querySelectorAll(".tr-resp-collapsible:not(.tr-resp-collapsible--collapsed)")];
      if (notCollapsed.length) {
        notCollapsed.forEach(chevronRow => {
          const rowBtn = chevronRow.parentElement.querySelector(".btn-td-resp-collapse");
          if (rowBtn !== chevronBtn) {
            chevronRow.classList.toggle("tr-resp-collapsible--collapsed");
            chevronRow.parentElement.querySelector(".btn-td-resp-collapse").classList.toggle("btn-td-resp-collapse--active");
          }
        });
      }
      chevronBtn.classList.toggle("btn-td-resp-collapse--active");
      event.target.closest(".tr").querySelector(".tr-resp-collapsible").classList.toggle("tr-resp-collapsible--collapsed");
    }

    // Check the column to insert the chevron
    function renderChevron(row) {
      // Check first TH if there is no chevron present
      if (!row.querySelector(".th.chevron-th")) {
        const selectTH = row.querySelector(".th");
        const extraTH = `<div class="th chevron-th" role="columnheader"><div class="column-container">&nbsp;</div></div>`;
        if (selectTH && selectTH.querySelector(".td-custom-content")) {
          selectTH.insertAdjacentHTML("afterend", extraTH);
        } else if (selectTH) {
          selectTH.insertAdjacentHTML("beforebegin", extraTH);
        }
      }

      // Check first TD if there is no chevron present
      if (!row.querySelector(".td.chevron-td")) {
        const selectTD = row.querySelector(".td");
        const borderClass = row.querySelector(".td-borders") ? "td-borders " : "";
        const extraTD = `<div class="td ${borderClass}chevron-td btn-td-resp-collapse" role="gridcell"><div class="td-custom-content"><svg height="16" width="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8.00004 11.1369C8.21033 11.1369 8.38741 11.0539 8.54789 10.8934L12.4935 6.85368C12.6208 6.72087 12.6872 6.56592 12.6872 6.37777C12.6872 5.9904 12.3829 5.68604 12.0066 5.68604C11.8239 5.68604 11.6469 5.76351 11.5085 5.90186L8.00557 9.50439L4.49158 5.90186C4.35876 5.76904 4.18722 5.68604 3.99353 5.68604C3.61723 5.68604 3.31287 5.9904 3.31287 6.37777C3.31287 6.56038 3.38481 6.72087 3.51208 6.85368L7.45772 10.8934C7.62374 11.0594 7.79529 11.1369 8.00004 11.1369Z"/></svg></div></div>`;
        if (selectTD && selectTD.querySelector(".td-custom-content")) {
          selectTD.insertAdjacentHTML("afterend", extraTD);
        } else if (selectTD) {
          selectTD.insertAdjacentHTML("beforebegin", extraTD);
        }
      }
    }
    function renderCollapsibleDiv(row) {
      const collapsibleDiv = `<div class="tr-resp-collapsible tr-resp-collapsible--collapsed"></div>`;
      if (!row.querySelector(".tr-resp-collapsible")) {
        row.insertAdjacentHTML("beforeend", collapsibleDiv);
      }
    }
    function moveColumnsInsideCollapsibleDiv(row) {
      const offset = keepLastBoolean ? -1 : 0;
      const visibleColumns = screenMode === "mobile" ? maxColumnsMobile : maxColumnsTablet;
      const THs = [...row.querySelectorAll(".th")];
      if (THs.length) {
        THs.slice(THs.length - (THs.length - visibleColumns) + offset, offset).forEach(TH => {
          TH.classList.add("hidden");
        });
      }
      const TDs = [...row.querySelectorAll(".td")];
      if (TDs.length) {
        TDs.slice(TDs.length - (TDs.length - visibleColumns) + offset, offset).forEach((TD, index) => {
          TD.classList.add("hidden");
          const headers = [...datagridWidgetRef.current.querySelectorAll('.widget-datagrid .tr[role="row"]:first-child .th.hidden')];
          const collapsible = row.querySelector(".tr-resp-collapsible");
          const collapsibleContent = `<div class="tr-resp-collapsible__item">
                        <p class="td-text text-bold nomargin">${headers[index]?.querySelector("span").innerHTML}</p>
                            <span class="td-text">${TD.querySelector("span")?.innerHTML}</span>
                        </div>`;
          collapsible.insertAdjacentHTML("beforeend", collapsibleContent);
        });
      }
    }
    function renderElements() {
      // Process each row
      datagridRowsRef.current.forEach(row => {
        renderCollapsibleDiv(row);
        moveColumnsInsideCollapsibleDiv(row);
        renderChevron(row);
      });
      const chevronBtns = [...datagridWidgetRef.current.querySelectorAll(".btn-td-resp-collapse")];
      chevronBtns.forEach(chevronBtn => chevronBtn.addEventListener("click", event => toggleTrCollapse(event, chevronBtn)));
    }
    function resetCollapsibles() {
      const allCollapsibles = [...datagridWidgetRef.current.querySelectorAll(".tr-resp-collapsible")];
      allCollapsibles.forEach(collapsible => collapsible.remove());
    }
    function resetHiddenColumns() {
      const hiddenColumns = [...datagridWidgetRef.current.querySelectorAll(".th.hidden, .td.hidden")];
      hiddenColumns.forEach(hiddenColumn => hiddenColumn.classList.remove("hidden"));
    }
    function resetChevrons() {
      const rows = [...datagridWidgetRef.current.querySelectorAll('.tr[role="row"]')];
      rows.forEach(row => {
        row.querySelector(".th.chevron-th")?.remove();
        row.querySelector(".td.chevron-td")?.remove();
      });
    }
    function onSort() {
      if (window.innerWidth <= mobileBreakpoint || window.innerWidth > mobileBreakpoint && window.innerWidth < desktopBreakpoint) {
        console.info("onSort", screenMode);
        setTimeout(() => {
          resetCollapsibles();
          resetHiddenColumns();
          resetChevrons();
          renderElements();
        }, 100);
      }
    }
    if (canRender && screenMode) {
      const headers = [...datagridRowsRef.current[0].querySelectorAll(".th")];

      // For desktop leave / restore default. For other situations update to mobile / tablet columns
      if (screenMode === "desktop") {
        tableContent.setAttribute("style", templateColumns);
        resetCollapsibles();
        resetHiddenColumns();
        resetChevrons();
      } else {
        setGridColumns();
        resetCollapsibles();
        resetHiddenColumns();
        resetChevrons();
        renderElements();
        headers.forEach(header => header.addEventListener("click", onSort));
      }
    }
    if (screenMode !== "desktop") {
      // Detect a change in Data grid 2 after the initial rendering of everything
      const observer = new MutationObserver(() => {
        observer.disconnect();
        if (datagridRowsRef.current !== datagridWidgetRef.current.querySelectorAll(".tr[role=row]")) {
          datagridRowsRef.current = [...datagridWidgetRef.current.querySelectorAll(".tr[role=row]")];
          resetCollapsibles();
          resetHiddenColumns();
          resetChevrons();
          renderElements();
        }
        observer.observe(datagridWidgetRef.current, config);
      });
      if (datagridWidgetRef && datagridWidgetRef.current) {
        observer.observe(datagridWidgetRef.current, config);
      }
      return () => observer.disconnect();
    }
  });
  useEffect(() => {
    const observer = new MutationObserver(() => {
      observer.disconnect();
      if (datagridWidgetRef.current) {
        setTableContent(datagridWidgetRef.current.querySelector(".widget-datagrid .widget-datagrid-grid-body"));
      }
      observer.observe(datagridWidgetRef.current, config);
    });
    if (datagridWidgetRef && datagridWidgetRef.current) {
      observer.observe(datagridWidgetRef.current, config);
    }
    return () => observer.disconnect();
  });
  useEffect(() => {
    if (tableContent) {
      setTemplateColumns(tableContent.getAttribute("style"));
      if (window.innerWidth <= mobileBreakpoint) {
        setSceenMode("mobile");
      } else if (window.innerWidth > mobileBreakpoint && window.innerWidth < desktopBreakpoint) {
        setSceenMode("tablet");
      } else if (window.innerWidth >= desktopBreakpoint) {
        setSceenMode("desktop");
      }
      setCanRender(true);
    }
  }, [desktopBreakpoint, mobileBreakpoint, tableContent]);
  if (canRender) {
    window.addEventListener("resize", screenSizeCheck);
  }
  return createElement("div", {
    className: `responsive-datagrid ${style}`,
    ref: datagridWidgetRef
  }, dataGridWidget);
}

export { ResponsiveDatagridTwo };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVzcG9uc2l2ZURhdGFncmlkVHdvLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL1Jlc3BvbnNpdmVEYXRhZ3JpZFR3by5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi91aS9SZXNwb25zaXZlRGF0YWdyaWRUd28uY3NzXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNpdmVEYXRhZ3JpZFR3byh7XG4gICAgZGF0YUdyaWRXaWRnZXQsXG4gICAgZGVza3RvcEJyZWFrcG9pbnQsXG4gICAga2VlcExhc3RCb29sZWFuLFxuICAgIG1heENvbHVtbnNNb2JpbGUsXG4gICAgbWF4Q29sdW1uc1RhYmxldCxcbiAgICBtb2JpbGVCcmVha3BvaW50LFxuICAgIC4uLnJlc3Rcbn0pIHtcbiAgICBjb25zdCBzdHlsZSA9IHJlc3QuY2xhc3MgfHwgXCJcIjtcbiAgICBjb25zdCBkYXRhZ3JpZFdpZGdldFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBkYXRhZ3JpZFJvd3NSZWYgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IFt0YWJsZUNvbnRlbnQsIHNldFRhYmxlQ29udGVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY2FuUmVuZGVyLCBzZXRDYW5SZW5kZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbHVtbnMsIHNldFRlbXBsYXRlQ29sdW1uc10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc2NyZWVuTW9kZSwgc2V0U2NlZW5Nb2RlXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgLy8gYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgLy8gYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwgLy8gVGhpcyBpcyBhIG11c3QgaGF2ZSBmb3IgdGhlIG9ic2VydmVyIHdpdGggc3VidHJlZVxuICAgICAgICBzdWJ0cmVlOiB0cnVlIC8vIFNldCB0byB0cnVlIGlmIGNoYW5nZXMgbXVzdCBhbHNvIGJlIG9ic2VydmVkIGluIGRlc2NlbmRhbnRzLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzY3JlZW5TaXplQ2hlY2soKSB7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSBtb2JpbGVCcmVha3BvaW50KSB7XG4gICAgICAgICAgICBpZiAoc2NyZWVuTW9kZSAhPT0gXCJtb2JpbGVcIikge1xuICAgICAgICAgICAgICAgIHNldFNjZWVuTW9kZShcIm1vYmlsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IG1vYmlsZUJyZWFrcG9pbnQgJiYgd2luZG93LmlubmVyV2lkdGggPCBkZXNrdG9wQnJlYWtwb2ludCkge1xuICAgICAgICAgICAgaWYgKHNjcmVlbk1vZGUgIT09IFwidGFibGV0XCIpIHtcbiAgICAgICAgICAgICAgICBzZXRTY2Vlbk1vZGUoXCJ0YWJsZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGggPj0gZGVza3RvcEJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgIGlmIChzY3JlZW5Nb2RlICE9PSBcImRlc2t0b3BcIikge1xuICAgICAgICAgICAgICAgIHNldFNjZWVuTW9kZShcImRlc2t0b3BcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBzZXRHcmlkQ29sdW1ucygpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGtlZXBMYXN0Qm9vbGVhbiA/IC0xIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbkFycmF5ID0gdGVtcGxhdGVDb2x1bW5zLnJlcGxhY2UoXCJncmlkLXRlbXBsYXRlLWNvbHVtbnM6IFwiLCBcIlwiKS5zcGxpdCgvICg/IVteKCldKlxcKSkvKTsgLy8gUmVnZXggZm9yIHNwYWNlIHdoZW4gbm90IGluc2lkZSAoKVxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZUNvbHVtbnMgPSBzY3JlZW5Nb2RlID09PSBcIm1vYmlsZVwiID8gbWF4Q29sdW1uc01vYmlsZSA6IG1heENvbHVtbnNUYWJsZXQ7XG4gICAgICAgICAgICBjb25zdCBtYXhDb2x1bW5BcnJheSA9IGNvbHVtbkFycmF5LnNsaWNlKGNvbHVtbkFycmF5Lmxlbmd0aCAtIHZpc2libGVDb2x1bW5zIC0gb2Zmc2V0KTsgLy8gcmVtb3ZlIGFsbCBidXQgdGhlIGxhc3QgbWF4Q29sdW1uc01vYmlsZVxuXG4gICAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgbWF4Q29sdW1uQXJyYXkucHVzaChcImZpdC1jb250ZW50KDEwMCUpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4Q29sdW1uQXJyYXkuam9pbihcIiBcIikucmVwbGFjZShcIjtcIiwgXCJcIik7XG4gICAgICAgICAgICBtYXhDb2x1bW5BcnJheS51bnNoaWZ0KFwiZml0LWNvbnRlbnQoMTAwJSlcIik7IC8vIGFkZCBuZXcgY29sdW1uIGZvciB0aGUgY2hldnJvblxuICAgICAgICAgICAgbWF4Q29sdW1uQXJyYXkuc3BsaWNlKDIsIDEsIFwiMWZyXCIpOyAvLyBjb252ZXJ0IGF0IGxlYXN0IG9uZSBhdXRvLWZpbGwgY29sdW1uIHRvIGF1dG8tZmlsbFxuICAgICAgICAgICAgdGFibGVDb250ZW50LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBncmlkLXRlbXBsYXRlLWNvbHVtbnM6ICR7bWF4Q29sdW1uQXJyYXkuam9pbihcIiBcIikucmVwbGFjZShcIjtcIiwgXCJcIil9O2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVHJDb2xsYXBzZShldmVudCwgY2hldnJvbkJ0bikge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKFwidG9nZ2xlVHJDb2xsYXBzZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IG5vdENvbGxhcHNlZCA9IFtcbiAgICAgICAgICAgICAgICAuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRyLXJlc3AtY29sbGFwc2libGU6bm90KC50ci1yZXNwLWNvbGxhcHNpYmxlLS1jb2xsYXBzZWQpXCIpXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKG5vdENvbGxhcHNlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBub3RDb2xsYXBzZWQuZm9yRWFjaChjaGV2cm9uUm93ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93QnRuID0gY2hldnJvblJvdy5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXRkLXJlc3AtY29sbGFwc2VcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3dCdG4gIT09IGNoZXZyb25CdG4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZXZyb25Sb3cuY2xhc3NMaXN0LnRvZ2dsZShcInRyLXJlc3AtY29sbGFwc2libGUtLWNvbGxhcHNlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZXZyb25Sb3cucGFyZW50RWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi10ZC1yZXNwLWNvbGxhcHNlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJidG4tdGQtcmVzcC1jb2xsYXBzZS0tYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoZXZyb25CdG4uY2xhc3NMaXN0LnRvZ2dsZShcImJ0bi10ZC1yZXNwLWNvbGxhcHNlLS1hY3RpdmVcIik7XG4gICAgICAgICAgICBldmVudC50YXJnZXRcbiAgICAgICAgICAgICAgICAuY2xvc2VzdChcIi50clwiKVxuICAgICAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLnRyLXJlc3AtY29sbGFwc2libGVcIilcbiAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcInRyLXJlc3AtY29sbGFwc2libGUtLWNvbGxhcHNlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIHRoZSBjb2x1bW4gdG8gaW5zZXJ0IHRoZSBjaGV2cm9uXG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlckNoZXZyb24ocm93KSB7XG4gICAgICAgICAgICAvLyBDaGVjayBmaXJzdCBUSCBpZiB0aGVyZSBpcyBubyBjaGV2cm9uIHByZXNlbnRcbiAgICAgICAgICAgIGlmICghcm93LnF1ZXJ5U2VsZWN0b3IoXCIudGguY2hldnJvbi10aFwiKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdFRIID0gcm93LnF1ZXJ5U2VsZWN0b3IoXCIudGhcIik7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0cmFUSCA9IGA8ZGl2IGNsYXNzPVwidGggY2hldnJvbi10aFwiIHJvbGU9XCJjb2x1bW5oZWFkZXJcIj48ZGl2IGNsYXNzPVwiY29sdW1uLWNvbnRhaW5lclwiPiZuYnNwOzwvZGl2PjwvZGl2PmA7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdFRIICYmIHNlbGVjdFRILnF1ZXJ5U2VsZWN0b3IoXCIudGQtY3VzdG9tLWNvbnRlbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VEguaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYWZ0ZXJlbmRcIiwgZXh0cmFUSCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RUSCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RUSC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmViZWdpblwiLCBleHRyYVRIKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZpcnN0IFREIGlmIHRoZXJlIGlzIG5vIGNoZXZyb24gcHJlc2VudFxuICAgICAgICAgICAgaWYgKCFyb3cucXVlcnlTZWxlY3RvcihcIi50ZC5jaGV2cm9uLXRkXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0VEQgPSByb3cucXVlcnlTZWxlY3RvcihcIi50ZFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib3JkZXJDbGFzcyA9IHJvdy5xdWVyeVNlbGVjdG9yKFwiLnRkLWJvcmRlcnNcIikgPyBcInRkLWJvcmRlcnMgXCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4dHJhVEQgPSBgPGRpdiBjbGFzcz1cInRkICR7Ym9yZGVyQ2xhc3N9Y2hldnJvbi10ZCBidG4tdGQtcmVzcC1jb2xsYXBzZVwiIHJvbGU9XCJncmlkY2VsbFwiPjxkaXYgY2xhc3M9XCJ0ZC1jdXN0b20tY29udGVudFwiPjxzdmcgaGVpZ2h0PVwiMTZcIiB3aWR0aD1cIjE2XCIgdmlld0JveD1cIjAgMCAxNiAxNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+PHBhdGggZD1cIk04LjAwMDA0IDExLjEzNjlDOC4yMTAzMyAxMS4xMzY5IDguMzg3NDEgMTEuMDUzOSA4LjU0Nzg5IDEwLjg5MzRMMTIuNDkzNSA2Ljg1MzY4QzEyLjYyMDggNi43MjA4NyAxMi42ODcyIDYuNTY1OTIgMTIuNjg3MiA2LjM3Nzc3QzEyLjY4NzIgNS45OTA0IDEyLjM4MjkgNS42ODYwNCAxMi4wMDY2IDUuNjg2MDRDMTEuODIzOSA1LjY4NjA0IDExLjY0NjkgNS43NjM1MSAxMS41MDg1IDUuOTAxODZMOC4wMDU1NyA5LjUwNDM5TDQuNDkxNTggNS45MDE4NkM0LjM1ODc2IDUuNzY5MDQgNC4xODcyMiA1LjY4NjA0IDMuOTkzNTMgNS42ODYwNEMzLjYxNzIzIDUuNjg2MDQgMy4zMTI4NyA1Ljk5MDQgMy4zMTI4NyA2LjM3Nzc3QzMuMzEyODcgNi41NjAzOCAzLjM4NDgxIDYuNzIwODcgMy41MTIwOCA2Ljg1MzY4TDcuNDU3NzIgMTAuODkzNEM3LjYyMzc0IDExLjA1OTQgNy43OTUyOSAxMS4xMzY5IDguMDAwMDQgMTEuMTM2OVpcIi8+PC9zdmc+PC9kaXY+PC9kaXY+YDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0VEQgJiYgc2VsZWN0VEQucXVlcnlTZWxlY3RvcihcIi50ZC1jdXN0b20tY29udGVudFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RURC5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmVuZFwiLCBleHRyYVREKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdFREKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRELmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWJlZ2luXCIsIGV4dHJhVEQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlbmRlckNvbGxhcHNpYmxlRGl2KHJvdykge1xuICAgICAgICAgICAgY29uc3QgY29sbGFwc2libGVEaXYgPSBgPGRpdiBjbGFzcz1cInRyLXJlc3AtY29sbGFwc2libGUgdHItcmVzcC1jb2xsYXBzaWJsZS0tY29sbGFwc2VkXCI+PC9kaXY+YDtcbiAgICAgICAgICAgIGlmICghcm93LnF1ZXJ5U2VsZWN0b3IoXCIudHItcmVzcC1jb2xsYXBzaWJsZVwiKSkge1xuICAgICAgICAgICAgICAgIHJvdy5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgY29sbGFwc2libGVEaXYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbW92ZUNvbHVtbnNJbnNpZGVDb2xsYXBzaWJsZURpdihyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGtlZXBMYXN0Qm9vbGVhbiA/IC0xIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVDb2x1bW5zID0gc2NyZWVuTW9kZSA9PT0gXCJtb2JpbGVcIiA/IG1heENvbHVtbnNNb2JpbGUgOiBtYXhDb2x1bW5zVGFibGV0O1xuICAgICAgICAgICAgY29uc3QgVEhzID0gWy4uLnJvdy5xdWVyeVNlbGVjdG9yQWxsKFwiLnRoXCIpXTtcbiAgICAgICAgICAgIGlmIChUSHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgVEhzLnNsaWNlKFRIcy5sZW5ndGggLSAoVEhzLmxlbmd0aCAtIHZpc2libGVDb2x1bW5zKSArIG9mZnNldCwgb2Zmc2V0KS5mb3JFYWNoKFRIID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVEguY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgVERzID0gWy4uLnJvdy5xdWVyeVNlbGVjdG9yQWxsKFwiLnRkXCIpXTtcbiAgICAgICAgICAgIGlmIChURHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgVERzLnNsaWNlKFREcy5sZW5ndGggLSAoVERzLmxlbmd0aCAtIHZpc2libGVDb2x1bW5zKSArIG9mZnNldCwgb2Zmc2V0KS5mb3JFYWNoKChURCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVEQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnLndpZGdldC1kYXRhZ3JpZCAudHJbcm9sZT1cInJvd1wiXTpmaXJzdC1jaGlsZCAudGguaGlkZGVuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xsYXBzaWJsZSA9IHJvdy5xdWVyeVNlbGVjdG9yKFwiLnRyLXJlc3AtY29sbGFwc2libGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxhcHNpYmxlQ29udGVudCA9IGA8ZGl2IGNsYXNzPVwidHItcmVzcC1jb2xsYXBzaWJsZV9faXRlbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZC10ZXh0IHRleHQtYm9sZCBub21hcmdpblwiPiR7aGVhZGVyc1tpbmRleF0/LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuXCIpLmlubmVySFRNTH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZC10ZXh0XCI+JHtURC5xdWVyeVNlbGVjdG9yKFwic3BhblwiKT8uaW5uZXJIVE1MfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxhcHNpYmxlLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBjb2xsYXBzaWJsZUNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyRWxlbWVudHMoKSB7XG4gICAgICAgICAgICAvLyBQcm9jZXNzIGVhY2ggcm93XG4gICAgICAgICAgICBkYXRhZ3JpZFJvd3NSZWYuY3VycmVudC5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgICAgICAgcmVuZGVyQ29sbGFwc2libGVEaXYocm93KTtcbiAgICAgICAgICAgICAgICBtb3ZlQ29sdW1uc0luc2lkZUNvbGxhcHNpYmxlRGl2KHJvdyk7XG4gICAgICAgICAgICAgICAgcmVuZGVyQ2hldnJvbihyb3cpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoZXZyb25CdG5zID0gWy4uLmRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIi5idG4tdGQtcmVzcC1jb2xsYXBzZVwiKV07XG4gICAgICAgICAgICBjaGV2cm9uQnRucy5mb3JFYWNoKGNoZXZyb25CdG4gPT5cbiAgICAgICAgICAgICAgICBjaGV2cm9uQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB0b2dnbGVUckNvbGxhcHNlKGV2ZW50LCBjaGV2cm9uQnRuKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNldENvbGxhcHNpYmxlcygpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsbENvbGxhcHNpYmxlcyA9IFsuLi5kYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudHItcmVzcC1jb2xsYXBzaWJsZVwiKV07XG4gICAgICAgICAgICBhbGxDb2xsYXBzaWJsZXMuZm9yRWFjaChjb2xsYXBzaWJsZSA9PiBjb2xsYXBzaWJsZS5yZW1vdmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNldEhpZGRlbkNvbHVtbnMoKSB7XG4gICAgICAgICAgICBjb25zdCBoaWRkZW5Db2x1bW5zID0gWy4uLmRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIi50aC5oaWRkZW4sIC50ZC5oaWRkZW5cIildO1xuICAgICAgICAgICAgaGlkZGVuQ29sdW1ucy5mb3JFYWNoKGhpZGRlbkNvbHVtbiA9PiBoaWRkZW5Db2x1bW4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNldENoZXZyb25zKCkge1xuICAgICAgICAgICAgY29uc3Qgcm93cyA9IFsuLi5kYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cltyb2xlPVwicm93XCJdJyldO1xuICAgICAgICAgICAgcm93cy5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgICAgICAgICAgcm93LnF1ZXJ5U2VsZWN0b3IoXCIudGguY2hldnJvbi10aFwiKT8ucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgcm93LnF1ZXJ5U2VsZWN0b3IoXCIudGQuY2hldnJvbi10ZFwiKT8ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9uU29ydCgpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCA8PSBtb2JpbGVCcmVha3BvaW50IHx8XG4gICAgICAgICAgICAgICAgKHdpbmRvdy5pbm5lcldpZHRoID4gbW9iaWxlQnJlYWtwb2ludCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IGRlc2t0b3BCcmVha3BvaW50KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKFwib25Tb3J0XCIsIHNjcmVlbk1vZGUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNldENvbGxhcHNpYmxlcygpO1xuICAgICAgICAgICAgICAgICAgICByZXNldEhpZGRlbkNvbHVtbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRDaGV2cm9ucygpO1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJFbGVtZW50cygpO1xuICAgICAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FuUmVuZGVyICYmIHNjcmVlbk1vZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBbLi4uZGF0YWdyaWRSb3dzUmVmLmN1cnJlbnRbMF0ucXVlcnlTZWxlY3RvckFsbChcIi50aFwiKV07XG5cbiAgICAgICAgICAgIC8vIEZvciBkZXNrdG9wIGxlYXZlIC8gcmVzdG9yZSBkZWZhdWx0LiBGb3Igb3RoZXIgc2l0dWF0aW9ucyB1cGRhdGUgdG8gbW9iaWxlIC8gdGFibGV0IGNvbHVtbnNcbiAgICAgICAgICAgIGlmIChzY3JlZW5Nb2RlID09PSBcImRlc2t0b3BcIikge1xuICAgICAgICAgICAgICAgIHRhYmxlQ29udGVudC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCB0ZW1wbGF0ZUNvbHVtbnMpO1xuICAgICAgICAgICAgICAgIHJlc2V0Q29sbGFwc2libGVzKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRIaWRkZW5Db2x1bW5zKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRDaGV2cm9ucygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRHcmlkQ29sdW1ucygpO1xuICAgICAgICAgICAgICAgIHJlc2V0Q29sbGFwc2libGVzKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRIaWRkZW5Db2x1bW5zKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRDaGV2cm9ucygpO1xuICAgICAgICAgICAgICAgIHJlbmRlckVsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uU29ydCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNjcmVlbk1vZGUgIT09IFwiZGVza3RvcFwiKSB7XG4gICAgICAgICAgICAvLyBEZXRlY3QgYSBjaGFuZ2UgaW4gRGF0YSBncmlkIDIgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9mIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YWdyaWRSb3dzUmVmLmN1cnJlbnQgIT09IGRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIi50cltyb2xlPXJvd11cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YWdyaWRSb3dzUmVmLmN1cnJlbnQgPSBbLi4uZGF0YWdyaWRXaWRnZXRSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRyW3JvbGU9cm93XVwiKV07XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0Q29sbGFwc2libGVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc2V0SGlkZGVuQ29sdW1ucygpO1xuICAgICAgICAgICAgICAgICAgICByZXNldENoZXZyb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckVsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhZ3JpZFdpZGdldFJlZiAmJiBkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGlmIChkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0VGFibGVDb250ZW50KGRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcihcIi53aWRnZXQtZGF0YWdyaWQgLndpZGdldC1kYXRhZ3JpZC1ncmlkLWJvZHlcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZGF0YWdyaWRXaWRnZXRSZWYgJiYgZGF0YWdyaWRXaWRnZXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh0YWJsZUNvbnRlbnQpIHtcbiAgICAgICAgICAgIHNldFRlbXBsYXRlQ29sdW1ucyh0YWJsZUNvbnRlbnQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IG1vYmlsZUJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBzZXRTY2Vlbk1vZGUoXCJtb2JpbGVcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gbW9iaWxlQnJlYWtwb2ludCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IGRlc2t0b3BCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgc2V0U2NlZW5Nb2RlKFwidGFibGV0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSBkZXNrdG9wQnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgIHNldFNjZWVuTW9kZShcImRlc2t0b3BcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDYW5SZW5kZXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbZGVza3RvcEJyZWFrcG9pbnQsIG1vYmlsZUJyZWFrcG9pbnQsIHRhYmxlQ29udGVudF0pO1xuXG4gICAgaWYgKGNhblJlbmRlcikge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY3JlZW5TaXplQ2hlY2spO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVzcG9uc2l2ZS1kYXRhZ3JpZCAke3N0eWxlfWB9IHJlZj17ZGF0YWdyaWRXaWRnZXRSZWZ9PlxuICAgICAgICAgICAge2RhdGFHcmlkV2lkZ2V0fVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufVxuIl0sIm5hbWVzIjpbIlJlc3BvbnNpdmVEYXRhZ3JpZFR3byIsImRhdGFHcmlkV2lkZ2V0IiwiZGVza3RvcEJyZWFrcG9pbnQiLCJrZWVwTGFzdEJvb2xlYW4iLCJtYXhDb2x1bW5zTW9iaWxlIiwibWF4Q29sdW1uc1RhYmxldCIsIm1vYmlsZUJyZWFrcG9pbnQiLCJyZXN0Iiwic3R5bGUiLCJjbGFzcyIsImRhdGFncmlkV2lkZ2V0UmVmIiwidXNlUmVmIiwiZGF0YWdyaWRSb3dzUmVmIiwidGFibGVDb250ZW50Iiwic2V0VGFibGVDb250ZW50IiwidXNlU3RhdGUiLCJjYW5SZW5kZXIiLCJzZXRDYW5SZW5kZXIiLCJ0ZW1wbGF0ZUNvbHVtbnMiLCJzZXRUZW1wbGF0ZUNvbHVtbnMiLCJzY3JlZW5Nb2RlIiwic2V0U2NlZW5Nb2RlIiwiY29uZmlnIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsInNjcmVlblNpemVDaGVjayIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJ1c2VFZmZlY3QiLCJzZXRHcmlkQ29sdW1ucyIsIm9mZnNldCIsImNvbHVtbkFycmF5IiwicmVwbGFjZSIsInNwbGl0IiwidmlzaWJsZUNvbHVtbnMiLCJtYXhDb2x1bW5BcnJheSIsInNsaWNlIiwibGVuZ3RoIiwicHVzaCIsImpvaW4iLCJ1bnNoaWZ0Iiwic3BsaWNlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlVHJDb2xsYXBzZSIsImV2ZW50IiwiY2hldnJvbkJ0biIsImNvbnNvbGUiLCJpbmZvIiwibm90Q29sbGFwc2VkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImNoZXZyb25Sb3ciLCJyb3dCdG4iLCJwYXJlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInRhcmdldCIsImNsb3Nlc3QiLCJyZW5kZXJDaGV2cm9uIiwicm93Iiwic2VsZWN0VEgiLCJleHRyYVRIIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwic2VsZWN0VEQiLCJib3JkZXJDbGFzcyIsImV4dHJhVEQiLCJyZW5kZXJDb2xsYXBzaWJsZURpdiIsImNvbGxhcHNpYmxlRGl2IiwibW92ZUNvbHVtbnNJbnNpZGVDb2xsYXBzaWJsZURpdiIsIlRIcyIsIlRIIiwiYWRkIiwiVERzIiwiVEQiLCJpbmRleCIsImhlYWRlcnMiLCJjdXJyZW50IiwiY29sbGFwc2libGUiLCJjb2xsYXBzaWJsZUNvbnRlbnQiLCJpbm5lckhUTUwiLCJyZW5kZXJFbGVtZW50cyIsImNoZXZyb25CdG5zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc2V0Q29sbGFwc2libGVzIiwiYWxsQ29sbGFwc2libGVzIiwicmVtb3ZlIiwicmVzZXRIaWRkZW5Db2x1bW5zIiwiaGlkZGVuQ29sdW1ucyIsImhpZGRlbkNvbHVtbiIsInJlc2V0Q2hldnJvbnMiLCJyb3dzIiwib25Tb3J0Iiwic2V0VGltZW91dCIsImhlYWRlciIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJvYnNlcnZlIiwiZ2V0QXR0cmlidXRlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInJlZiJdLCJtYXBwaW5ncyI6Ijs7QUFHTyxTQUFTQSxxQkFBcUJBLENBQUM7RUFDbENDLGNBQWM7RUFDZEMsaUJBQWlCO0VBQ2pCQyxlQUFlO0VBQ2ZDLGdCQUFnQjtFQUNoQkMsZ0JBQWdCO0VBQ2hCQyxnQkFBZ0I7RUFDaEIsR0FBR0MsSUFBQUE7QUFDUCxDQUFDLEVBQUU7QUFDQyxFQUFBLE1BQU1DLEtBQUssR0FBR0QsSUFBSSxDQUFDRSxLQUFLLElBQUksRUFBRSxDQUFBO0FBQzlCLEVBQUEsTUFBTUMsaUJBQWlCLEdBQUdDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtBQUN0QyxFQUFBLE1BQU1DLGVBQWUsR0FBR0QsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFBO0VBQ2xDLE1BQU0sQ0FBQ0UsWUFBWSxFQUFFQyxlQUFlLENBQUMsR0FBR0MsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFBO0VBQ3RELE1BQU0sQ0FBQ0MsU0FBUyxFQUFFQyxZQUFZLENBQUMsR0FBR0YsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO0VBQ2pELE1BQU0sQ0FBQ0csZUFBZSxFQUFFQyxrQkFBa0IsQ0FBQyxHQUFHSixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7RUFDNUQsTUFBTSxDQUFDSyxVQUFVLEVBQUVDLFlBQVksQ0FBQyxHQUFHTixRQUFRLENBQUMsSUFBSSxDQUFDLENBQUE7QUFDakQsRUFBQSxNQUFNTyxNQUFNLEdBQUc7QUFDWDtBQUNBO0FBQ0FDLElBQUFBLFNBQVMsRUFBRSxJQUFJO0FBQUU7SUFDakJDLE9BQU8sRUFBRSxJQUFJO0dBQ2hCLENBQUE7RUFFRCxTQUFTQyxlQUFlQSxHQUFHO0FBQ3ZCLElBQUEsSUFBSUMsTUFBTSxDQUFDQyxVQUFVLElBQUlyQixnQkFBZ0IsRUFBRTtNQUN2QyxJQUFJYyxVQUFVLEtBQUssUUFBUSxFQUFFO1FBQ3pCQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDMUIsT0FBQTtBQUNKLEtBQUMsTUFBTSxJQUFJSyxNQUFNLENBQUNDLFVBQVUsR0FBR3JCLGdCQUFnQixJQUFJb0IsTUFBTSxDQUFDQyxVQUFVLEdBQUd6QixpQkFBaUIsRUFBRTtNQUN0RixJQUFJa0IsVUFBVSxLQUFLLFFBQVEsRUFBRTtRQUN6QkMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzFCLE9BQUE7QUFDSixLQUFDLE1BQU0sSUFBSUssTUFBTSxDQUFDQyxVQUFVLElBQUl6QixpQkFBaUIsRUFBRTtNQUMvQyxJQUFJa0IsVUFBVSxLQUFLLFNBQVMsRUFBRTtRQUMxQkMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFBO0FBQzNCLE9BQUE7QUFDSixLQUFBO0FBQ0osR0FBQTtBQUVBTyxFQUFBQSxTQUFTLENBQUMsTUFBTTtJQUNaLFNBQVNDLGNBQWNBLEdBQUc7QUFDdEIsTUFBQSxNQUFNQyxNQUFNLEdBQUczQixlQUFlLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ3ZDLE1BQUEsTUFBTTRCLFdBQVcsR0FBR2IsZUFBZSxDQUFDYyxPQUFPLENBQUMseUJBQXlCLEVBQUUsRUFBRSxDQUFDLENBQUNDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQztNQUNsRyxNQUFNQyxjQUFjLEdBQUdkLFVBQVUsS0FBSyxRQUFRLEdBQUdoQixnQkFBZ0IsR0FBR0MsZ0JBQWdCLENBQUE7QUFDcEYsTUFBQSxNQUFNOEIsY0FBYyxHQUFHSixXQUFXLENBQUNLLEtBQUssQ0FBQ0wsV0FBVyxDQUFDTSxNQUFNLEdBQUdILGNBQWMsR0FBR0osTUFBTSxDQUFDLENBQUM7O0FBRXZGLE1BQUEsSUFBSUEsTUFBTSxFQUFFO0FBQ1JLLFFBQUFBLGNBQWMsQ0FBQ0csSUFBSSxDQUFDLG1CQUFtQixDQUFDLENBQUE7QUFDNUMsT0FBQTtNQUNBSCxjQUFjLENBQUNJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQ1AsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUN6Q0csTUFBQUEsY0FBYyxDQUFDSyxPQUFPLENBQUMsbUJBQW1CLENBQUMsQ0FBQztNQUM1Q0wsY0FBYyxDQUFDTSxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztNQUNuQzVCLFlBQVksQ0FBQzZCLFlBQVksQ0FBQyxPQUFPLEVBQUcsQ0FBeUJQLHVCQUFBQSxFQUFBQSxjQUFjLENBQUNJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQ1AsT0FBTyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUUsR0FBRSxDQUFDLENBQUE7QUFDOUcsS0FBQTtBQUVBLElBQUEsU0FBU1csZ0JBQWdCQSxDQUFDQyxLQUFLLEVBQUVDLFVBQVUsRUFBRTtBQUN6Q0MsTUFBQUEsT0FBTyxDQUFDQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtNQUNoQyxNQUFNQyxZQUFZLEdBQUcsQ0FDakIsR0FBR0MsUUFBUSxDQUFDQyxnQkFBZ0IsQ0FBQywyREFBMkQsQ0FBQyxDQUM1RixDQUFBO01BQ0QsSUFBSUYsWUFBWSxDQUFDWCxNQUFNLEVBQUU7QUFDckJXLFFBQUFBLFlBQVksQ0FBQ0csT0FBTyxDQUFDQyxVQUFVLElBQUk7VUFDL0IsTUFBTUMsTUFBTSxHQUFHRCxVQUFVLENBQUNFLGFBQWEsQ0FBQ0MsYUFBYSxDQUFDLHVCQUF1QixDQUFDLENBQUE7VUFDOUUsSUFBSUYsTUFBTSxLQUFLUixVQUFVLEVBQUU7QUFDdkJPLFlBQUFBLFVBQVUsQ0FBQ0ksU0FBUyxDQUFDQyxNQUFNLENBQUMsZ0NBQWdDLENBQUMsQ0FBQTtBQUM3REwsWUFBQUEsVUFBVSxDQUFDRSxhQUFhLENBQ25CQyxhQUFhLENBQUMsdUJBQXVCLENBQUMsQ0FDdENDLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLDhCQUE4QixDQUFDLENBQUE7QUFDekQsV0FBQTtBQUNKLFNBQUMsQ0FBQyxDQUFBO0FBQ04sT0FBQTtBQUVBWixNQUFBQSxVQUFVLENBQUNXLFNBQVMsQ0FBQ0MsTUFBTSxDQUFDLDhCQUE4QixDQUFDLENBQUE7QUFDM0RiLE1BQUFBLEtBQUssQ0FBQ2MsTUFBTSxDQUNQQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQ2RKLGFBQWEsQ0FBQyxzQkFBc0IsQ0FBQyxDQUNyQ0MsU0FBUyxDQUFDQyxNQUFNLENBQUMsZ0NBQWdDLENBQUMsQ0FBQTtBQUMzRCxLQUFBOztBQUVBO0lBQ0EsU0FBU0csYUFBYUEsQ0FBQ0MsR0FBRyxFQUFFO0FBQ3hCO0FBQ0EsTUFBQSxJQUFJLENBQUNBLEdBQUcsQ0FBQ04sYUFBYSxDQUFDLGdCQUFnQixDQUFDLEVBQUU7QUFDdEMsUUFBQSxNQUFNTyxRQUFRLEdBQUdELEdBQUcsQ0FBQ04sYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ3pDLE1BQU1RLE9BQU8sR0FBSSxDQUFnRywrRkFBQSxDQUFBLENBQUE7UUFDakgsSUFBSUQsUUFBUSxJQUFJQSxRQUFRLENBQUNQLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO0FBQzFETyxVQUFBQSxRQUFRLENBQUNFLGtCQUFrQixDQUFDLFVBQVUsRUFBRUQsT0FBTyxDQUFDLENBQUE7U0FDbkQsTUFBTSxJQUFJRCxRQUFRLEVBQUU7QUFDakJBLFVBQUFBLFFBQVEsQ0FBQ0Usa0JBQWtCLENBQUMsYUFBYSxFQUFFRCxPQUFPLENBQUMsQ0FBQTtBQUN2RCxTQUFBO0FBQ0osT0FBQTs7QUFFQTtBQUNBLE1BQUEsSUFBSSxDQUFDRixHQUFHLENBQUNOLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO0FBQ3RDLFFBQUEsTUFBTVUsUUFBUSxHQUFHSixHQUFHLENBQUNOLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN6QyxNQUFNVyxXQUFXLEdBQUdMLEdBQUcsQ0FBQ04sYUFBYSxDQUFDLGFBQWEsQ0FBQyxHQUFHLGFBQWEsR0FBRyxFQUFFLENBQUE7QUFDekUsUUFBQSxNQUFNWSxPQUFPLEdBQUksQ0FBaUJELGVBQUFBLEVBQUFBLFdBQVksQ0FBcXFCLG9xQkFBQSxDQUFBLENBQUE7UUFDbnRCLElBQUlELFFBQVEsSUFBSUEsUUFBUSxDQUFDVixhQUFhLENBQUMsb0JBQW9CLENBQUMsRUFBRTtBQUMxRFUsVUFBQUEsUUFBUSxDQUFDRCxrQkFBa0IsQ0FBQyxVQUFVLEVBQUVHLE9BQU8sQ0FBQyxDQUFBO1NBQ25ELE1BQU0sSUFBSUYsUUFBUSxFQUFFO0FBQ2pCQSxVQUFBQSxRQUFRLENBQUNELGtCQUFrQixDQUFDLGFBQWEsRUFBRUcsT0FBTyxDQUFDLENBQUE7QUFDdkQsU0FBQTtBQUNKLE9BQUE7QUFDSixLQUFBO0lBRUEsU0FBU0Msb0JBQW9CQSxDQUFDUCxHQUFHLEVBQUU7TUFDL0IsTUFBTVEsY0FBYyxHQUFJLENBQXVFLHNFQUFBLENBQUEsQ0FBQTtBQUMvRixNQUFBLElBQUksQ0FBQ1IsR0FBRyxDQUFDTixhQUFhLENBQUMsc0JBQXNCLENBQUMsRUFBRTtBQUM1Q00sUUFBQUEsR0FBRyxDQUFDRyxrQkFBa0IsQ0FBQyxXQUFXLEVBQUVLLGNBQWMsQ0FBQyxDQUFBO0FBQ3ZELE9BQUE7QUFDSixLQUFBO0lBRUEsU0FBU0MsK0JBQStCQSxDQUFDVCxHQUFHLEVBQUU7QUFDMUMsTUFBQSxNQUFNL0IsTUFBTSxHQUFHM0IsZUFBZSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQTtNQUN2QyxNQUFNK0IsY0FBYyxHQUFHZCxVQUFVLEtBQUssUUFBUSxHQUFHaEIsZ0JBQWdCLEdBQUdDLGdCQUFnQixDQUFBO01BQ3BGLE1BQU1rRSxHQUFHLEdBQUcsQ0FBQyxHQUFHVixHQUFHLENBQUNYLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7TUFDNUMsSUFBSXFCLEdBQUcsQ0FBQ2xDLE1BQU0sRUFBRTtRQUNaa0MsR0FBRyxDQUFDbkMsS0FBSyxDQUFDbUMsR0FBRyxDQUFDbEMsTUFBTSxJQUFJa0MsR0FBRyxDQUFDbEMsTUFBTSxHQUFHSCxjQUFjLENBQUMsR0FBR0osTUFBTSxFQUFFQSxNQUFNLENBQUMsQ0FBQ3FCLE9BQU8sQ0FBQ3FCLEVBQUUsSUFBSTtBQUNqRkEsVUFBQUEsRUFBRSxDQUFDaEIsU0FBUyxDQUFDaUIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzlCLFNBQUMsQ0FBQyxDQUFBO0FBQ04sT0FBQTtNQUVBLE1BQU1DLEdBQUcsR0FBRyxDQUFDLEdBQUdiLEdBQUcsQ0FBQ1gsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtNQUM1QyxJQUFJd0IsR0FBRyxDQUFDckMsTUFBTSxFQUFFO1FBQ1pxQyxHQUFHLENBQUN0QyxLQUFLLENBQUNzQyxHQUFHLENBQUNyQyxNQUFNLElBQUlxQyxHQUFHLENBQUNyQyxNQUFNLEdBQUdILGNBQWMsQ0FBQyxHQUFHSixNQUFNLEVBQUVBLE1BQU0sQ0FBQyxDQUFDcUIsT0FBTyxDQUFDLENBQUN3QixFQUFFLEVBQUVDLEtBQUssS0FBSztBQUMxRkQsVUFBQUEsRUFBRSxDQUFDbkIsU0FBUyxDQUFDaUIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQzFCLFVBQUEsTUFBTUksT0FBTyxHQUFHLENBQ1osR0FBR25FLGlCQUFpQixDQUFDb0UsT0FBTyxDQUFDNUIsZ0JBQWdCLENBQ3pDLHlEQUNKLENBQUMsQ0FDSixDQUFBO0FBQ0QsVUFBQSxNQUFNNkIsV0FBVyxHQUFHbEIsR0FBRyxDQUFDTixhQUFhLENBQUMsc0JBQXNCLENBQUMsQ0FBQTtBQUM3RCxVQUFBLE1BQU15QixrQkFBa0IsR0FBSSxDQUFBO0FBQ2hELDhEQUFnRUgsRUFBQUEsT0FBTyxDQUFDRCxLQUFLLENBQUMsRUFBRXJCLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQzBCLFNBQVUsQ0FBQTtBQUNoSCxrREFBQSxFQUFvRE4sRUFBRSxDQUFDcEIsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUFFMEIsU0FBVSxDQUFBO0FBQ3hGLDhCQUErQixDQUFBLENBQUE7QUFDWEYsVUFBQUEsV0FBVyxDQUFDZixrQkFBa0IsQ0FBQyxXQUFXLEVBQUVnQixrQkFBa0IsQ0FBQyxDQUFBO0FBQ25FLFNBQUMsQ0FBQyxDQUFBO0FBQ04sT0FBQTtBQUNKLEtBQUE7SUFFQSxTQUFTRSxjQUFjQSxHQUFHO0FBQ3RCO0FBQ0F0RSxNQUFBQSxlQUFlLENBQUNrRSxPQUFPLENBQUMzQixPQUFPLENBQUNVLEdBQUcsSUFBSTtRQUNuQ08sb0JBQW9CLENBQUNQLEdBQUcsQ0FBQyxDQUFBO1FBQ3pCUywrQkFBK0IsQ0FBQ1QsR0FBRyxDQUFDLENBQUE7UUFDcENELGFBQWEsQ0FBQ0MsR0FBRyxDQUFDLENBQUE7QUFDdEIsT0FBQyxDQUFDLENBQUE7QUFFRixNQUFBLE1BQU1zQixXQUFXLEdBQUcsQ0FBQyxHQUFHekUsaUJBQWlCLENBQUNvRSxPQUFPLENBQUM1QixnQkFBZ0IsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUE7TUFDNUZpQyxXQUFXLENBQUNoQyxPQUFPLENBQUNOLFVBQVUsSUFDMUJBLFVBQVUsQ0FBQ3VDLGdCQUFnQixDQUFDLE9BQU8sRUFBRXhDLEtBQUssSUFBSUQsZ0JBQWdCLENBQUNDLEtBQUssRUFBRUMsVUFBVSxDQUFDLENBQ3JGLENBQUMsQ0FBQTtBQUNMLEtBQUE7SUFFQSxTQUFTd0MsaUJBQWlCQSxHQUFHO0FBQ3pCLE1BQUEsTUFBTUMsZUFBZSxHQUFHLENBQUMsR0FBRzVFLGlCQUFpQixDQUFDb0UsT0FBTyxDQUFDNUIsZ0JBQWdCLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxDQUFBO01BQy9Gb0MsZUFBZSxDQUFDbkMsT0FBTyxDQUFDNEIsV0FBVyxJQUFJQSxXQUFXLENBQUNRLE1BQU0sRUFBRSxDQUFDLENBQUE7QUFDaEUsS0FBQTtJQUVBLFNBQVNDLGtCQUFrQkEsR0FBRztBQUMxQixNQUFBLE1BQU1DLGFBQWEsR0FBRyxDQUFDLEdBQUcvRSxpQkFBaUIsQ0FBQ29FLE9BQU8sQ0FBQzVCLGdCQUFnQixDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQTtBQUMvRnVDLE1BQUFBLGFBQWEsQ0FBQ3RDLE9BQU8sQ0FBQ3VDLFlBQVksSUFBSUEsWUFBWSxDQUFDbEMsU0FBUyxDQUFDK0IsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUE7QUFDbEYsS0FBQTtJQUVBLFNBQVNJLGFBQWFBLEdBQUc7QUFDckIsTUFBQSxNQUFNQyxJQUFJLEdBQUcsQ0FBQyxHQUFHbEYsaUJBQWlCLENBQUNvRSxPQUFPLENBQUM1QixnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUE7QUFDL0UwQyxNQUFBQSxJQUFJLENBQUN6QyxPQUFPLENBQUNVLEdBQUcsSUFBSTtRQUNoQkEsR0FBRyxDQUFDTixhQUFhLENBQUMsZ0JBQWdCLENBQUMsRUFBRWdDLE1BQU0sRUFBRSxDQUFBO1FBQzdDMUIsR0FBRyxDQUFDTixhQUFhLENBQUMsZ0JBQWdCLENBQUMsRUFBRWdDLE1BQU0sRUFBRSxDQUFBO0FBQ2pELE9BQUMsQ0FBQyxDQUFBO0FBQ04sS0FBQTtJQUVBLFNBQVNNLE1BQU1BLEdBQUc7QUFDZCxNQUFBLElBQ0luRSxNQUFNLENBQUNDLFVBQVUsSUFBSXJCLGdCQUFnQixJQUNwQ29CLE1BQU0sQ0FBQ0MsVUFBVSxHQUFHckIsZ0JBQWdCLElBQUlvQixNQUFNLENBQUNDLFVBQVUsR0FBR3pCLGlCQUFrQixFQUNqRjtBQUNFNEMsUUFBQUEsT0FBTyxDQUFDQyxJQUFJLENBQUMsUUFBUSxFQUFFM0IsVUFBVSxDQUFDLENBQUE7QUFDbEMwRSxRQUFBQSxVQUFVLENBQUMsTUFBTTtBQUNiVCxVQUFBQSxpQkFBaUIsRUFBRSxDQUFBO0FBQ25CRyxVQUFBQSxrQkFBa0IsRUFBRSxDQUFBO0FBQ3BCRyxVQUFBQSxhQUFhLEVBQUUsQ0FBQTtBQUNmVCxVQUFBQSxjQUFjLEVBQUUsQ0FBQTtTQUNuQixFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ1gsT0FBQTtBQUNKLEtBQUE7SUFFQSxJQUFJbEUsU0FBUyxJQUFJSSxVQUFVLEVBQUU7QUFDekIsTUFBQSxNQUFNeUQsT0FBTyxHQUFHLENBQUMsR0FBR2pFLGVBQWUsQ0FBQ2tFLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQzVCLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7O0FBRXZFO01BQ0EsSUFBSTlCLFVBQVUsS0FBSyxTQUFTLEVBQUU7QUFDMUJQLFFBQUFBLFlBQVksQ0FBQzZCLFlBQVksQ0FBQyxPQUFPLEVBQUV4QixlQUFlLENBQUMsQ0FBQTtBQUNuRG1FLFFBQUFBLGlCQUFpQixFQUFFLENBQUE7QUFDbkJHLFFBQUFBLGtCQUFrQixFQUFFLENBQUE7QUFDcEJHLFFBQUFBLGFBQWEsRUFBRSxDQUFBO0FBQ25CLE9BQUMsTUFBTTtBQUNIOUQsUUFBQUEsY0FBYyxFQUFFLENBQUE7QUFDaEJ3RCxRQUFBQSxpQkFBaUIsRUFBRSxDQUFBO0FBQ25CRyxRQUFBQSxrQkFBa0IsRUFBRSxDQUFBO0FBQ3BCRyxRQUFBQSxhQUFhLEVBQUUsQ0FBQTtBQUNmVCxRQUFBQSxjQUFjLEVBQUUsQ0FBQTtBQUNoQkwsUUFBQUEsT0FBTyxDQUFDMUIsT0FBTyxDQUFDNEMsTUFBTSxJQUFJQSxNQUFNLENBQUNYLGdCQUFnQixDQUFDLE9BQU8sRUFBRVMsTUFBTSxDQUFDLENBQUMsQ0FBQTtBQUN2RSxPQUFBO0FBQ0osS0FBQTtJQUVBLElBQUl6RSxVQUFVLEtBQUssU0FBUyxFQUFFO0FBQzFCO0FBQ0EsTUFBQSxNQUFNNEUsUUFBUSxHQUFHLElBQUlDLGdCQUFnQixDQUFDLE1BQU07UUFDeENELFFBQVEsQ0FBQ0UsVUFBVSxFQUFFLENBQUE7QUFDckIsUUFBQSxJQUFJdEYsZUFBZSxDQUFDa0UsT0FBTyxLQUFLcEUsaUJBQWlCLENBQUNvRSxPQUFPLENBQUM1QixnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsRUFBRTtBQUN6RnRDLFVBQUFBLGVBQWUsQ0FBQ2tFLE9BQU8sR0FBRyxDQUFDLEdBQUdwRSxpQkFBaUIsQ0FBQ29FLE9BQU8sQ0FBQzVCLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUE7QUFDMUZtQyxVQUFBQSxpQkFBaUIsRUFBRSxDQUFBO0FBQ25CRyxVQUFBQSxrQkFBa0IsRUFBRSxDQUFBO0FBQ3BCRyxVQUFBQSxhQUFhLEVBQUUsQ0FBQTtBQUNmVCxVQUFBQSxjQUFjLEVBQUUsQ0FBQTtBQUNwQixTQUFBO1FBRUFjLFFBQVEsQ0FBQ0csT0FBTyxDQUFDekYsaUJBQWlCLENBQUNvRSxPQUFPLEVBQUV4RCxNQUFNLENBQUMsQ0FBQTtBQUN2RCxPQUFDLENBQUMsQ0FBQTtBQUVGLE1BQUEsSUFBSVosaUJBQWlCLElBQUlBLGlCQUFpQixDQUFDb0UsT0FBTyxFQUFFO1FBQ2hEa0IsUUFBUSxDQUFDRyxPQUFPLENBQUN6RixpQkFBaUIsQ0FBQ29FLE9BQU8sRUFBRXhELE1BQU0sQ0FBQyxDQUFBO0FBQ3ZELE9BQUE7QUFFQSxNQUFBLE9BQU8sTUFBTTBFLFFBQVEsQ0FBQ0UsVUFBVSxFQUFFLENBQUE7QUFDdEMsS0FBQTtBQUNKLEdBQUMsQ0FBQyxDQUFBO0FBRUZ0RSxFQUFBQSxTQUFTLENBQUMsTUFBTTtBQUNaLElBQUEsTUFBTW9FLFFBQVEsR0FBRyxJQUFJQyxnQkFBZ0IsQ0FBQyxNQUFNO01BQ3hDRCxRQUFRLENBQUNFLFVBQVUsRUFBRSxDQUFBO01BQ3JCLElBQUl4RixpQkFBaUIsQ0FBQ29FLE9BQU8sRUFBRTtRQUMzQmhFLGVBQWUsQ0FBQ0osaUJBQWlCLENBQUNvRSxPQUFPLENBQUN2QixhQUFhLENBQUMsNkNBQTZDLENBQUMsQ0FBQyxDQUFBO0FBQzNHLE9BQUE7TUFDQXlDLFFBQVEsQ0FBQ0csT0FBTyxDQUFDekYsaUJBQWlCLENBQUNvRSxPQUFPLEVBQUV4RCxNQUFNLENBQUMsQ0FBQTtBQUN2RCxLQUFDLENBQUMsQ0FBQTtBQUVGLElBQUEsSUFBSVosaUJBQWlCLElBQUlBLGlCQUFpQixDQUFDb0UsT0FBTyxFQUFFO01BQ2hEa0IsUUFBUSxDQUFDRyxPQUFPLENBQUN6RixpQkFBaUIsQ0FBQ29FLE9BQU8sRUFBRXhELE1BQU0sQ0FBQyxDQUFBO0FBQ3ZELEtBQUE7QUFFQSxJQUFBLE9BQU8sTUFBTTBFLFFBQVEsQ0FBQ0UsVUFBVSxFQUFFLENBQUE7QUFDdEMsR0FBQyxDQUFDLENBQUE7QUFFRnRFLEVBQUFBLFNBQVMsQ0FBQyxNQUFNO0FBQ1osSUFBQSxJQUFJZixZQUFZLEVBQUU7QUFDZE0sTUFBQUEsa0JBQWtCLENBQUNOLFlBQVksQ0FBQ3VGLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFBO0FBQ3RELE1BQUEsSUFBSTFFLE1BQU0sQ0FBQ0MsVUFBVSxJQUFJckIsZ0JBQWdCLEVBQUU7UUFDdkNlLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUMxQixPQUFDLE1BQU0sSUFBSUssTUFBTSxDQUFDQyxVQUFVLEdBQUdyQixnQkFBZ0IsSUFBSW9CLE1BQU0sQ0FBQ0MsVUFBVSxHQUFHekIsaUJBQWlCLEVBQUU7UUFDdEZtQixZQUFZLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDMUIsT0FBQyxNQUFNLElBQUlLLE1BQU0sQ0FBQ0MsVUFBVSxJQUFJekIsaUJBQWlCLEVBQUU7UUFDL0NtQixZQUFZLENBQUMsU0FBUyxDQUFDLENBQUE7QUFDM0IsT0FBQTtNQUNBSixZQUFZLENBQUMsSUFBSSxDQUFDLENBQUE7QUFDdEIsS0FBQTtHQUNILEVBQUUsQ0FBQ2YsaUJBQWlCLEVBQUVJLGdCQUFnQixFQUFFTyxZQUFZLENBQUMsQ0FBQyxDQUFBO0FBRXZELEVBQUEsSUFBSUcsU0FBUyxFQUFFO0FBQ1hVLElBQUFBLE1BQU0sQ0FBQzBELGdCQUFnQixDQUFDLFFBQVEsRUFBRTNELGVBQWUsQ0FBQyxDQUFBO0FBQ3RELEdBQUE7QUFFQSxFQUFBLE9BQ0k0RSxhQUFBLENBQUEsS0FBQSxFQUFBO0lBQUtDLFNBQVMsRUFBRyxDQUFzQjlGLG9CQUFBQSxFQUFBQSxLQUFNLENBQUUsQ0FBQTtBQUFDK0YsSUFBQUEsR0FBRyxFQUFFN0YsaUJBQUFBO0FBQWtCLEdBQUEsRUFDbEVULGNBQ0EsQ0FBQyxDQUFBO0FBRWQ7Ozs7In0=
