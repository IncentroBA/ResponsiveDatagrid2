import { useRef, useState, useEffect, createElement } from 'react';

function ResponsiveDatagridTwo({
  dataGridWidget,
  desktopBreakpoint,
  keepLastBoolean,
  maxColumnsMobile,
  maxColumnsTablet,
  mobileBreakpoint,
  ...rest
}) {
  const style = rest.class || "";
  const datagridWidgetRef = useRef(null);
  const datagridRowsRef = useRef([]);
  const [tableContent, setTableContent] = useState(null);
  const [canRender, setCanRender] = useState(false);
  const [templateColumns, setTemplateColumns] = useState(null);
  const [screenMode, setSceenMode] = useState(null);
  const config = {
    // attributes: true,
    // attributeOldValue: true,
    childList: true,
    // This is a must have for the observer with subtree
    subtree: true // Set to true if changes must also be observed in descendants.
  };
  function screenSizeCheck() {
    if (window.innerWidth <= mobileBreakpoint) {
      if (screenMode !== "mobile") {
        setSceenMode("mobile");
      }
    } else if (window.innerWidth > mobileBreakpoint && window.innerWidth < desktopBreakpoint) {
      if (screenMode !== "tablet") {
        setSceenMode("tablet");
      }
    } else if (window.innerWidth >= desktopBreakpoint) {
      if (screenMode !== "desktop") {
        setSceenMode("desktop");
      }
    }
  }
  useEffect(() => {
    function setGridColumns() {
      const offset = keepLastBoolean ? -1 : 0;
      const columnArray = templateColumns.replace("grid-template-columns: ", "").split(/ (?![^()]*\))/); // Regex for space when not inside ()
      const visibleColumns = screenMode === "mobile" ? maxColumnsMobile : maxColumnsTablet;
      const maxColumnArray = columnArray.slice(columnArray.length - visibleColumns - offset); // remove all but the last maxColumnsMobile

      if (offset) {
        maxColumnArray.push("fit-content(100%)");
      }
      maxColumnArray.join(" ").replace(";", "");
      maxColumnArray.unshift("fit-content(100%)"); // add new column for the chevron
      maxColumnArray.splice(2, 1, "1fr"); // convert at least one auto-fill column to auto-fill
      tableContent.setAttribute("style", `grid-template-columns: ${maxColumnArray.join(" ").replace(";", "")};`);
    }
    function toggleTrCollapse(event, chevronBtn) {
      const notCollapsed = [...document.querySelectorAll(".tr-resp-collapsible:not(.tr-resp-collapsible--collapsed)")];
      if (notCollapsed.length) {
        notCollapsed.forEach(chevronRow => {
          const rowBtn = chevronRow.parentElement.querySelector(".btn-td-resp-collapse");
          if (rowBtn !== chevronBtn) {
            chevronRow.classList.toggle("tr-resp-collapsible--collapsed");
            chevronRow.parentElement.querySelector(".btn-td-resp-collapse").classList.toggle("btn-td-resp-collapse--active");
          }
        });
      }
      chevronBtn.classList.toggle("btn-td-resp-collapse--active");
      event.target.closest(".tr").querySelector(".tr-resp-collapsible").classList.toggle("tr-resp-collapsible--collapsed");
    }

    // Check the column to insert the chevron
    function renderChevron(row) {
      // Check first TH if there is no chevron present
      if (!row.querySelector(".th.chevron-th")) {
        const selectTH = row.querySelector(".th");
        const extraTH = `<div class="th chevron-th" role="columnheader"><div class="column-container">&nbsp;</div></div>`;
        if (selectTH && selectTH.querySelector(".td-custom-content")) {
          selectTH.insertAdjacentHTML("afterend", extraTH);
        } else if (selectTH) {
          selectTH.insertAdjacentHTML("beforebegin", extraTH);
        }
      }

      // Check first TD if there is no chevron present
      if (!row.querySelector(".td.chevron-td")) {
        const selectTD = row.querySelector(".td");
        const borderClass = row.querySelector(".td-borders") ? "td-borders " : "";
        const extraTD = `<div class="td ${borderClass}chevron-td btn-td-resp-collapse" role="gridcell"><div class="td-custom-content"><svg height="16" width="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M8.00004 11.1369C8.21033 11.1369 8.38741 11.0539 8.54789 10.8934L12.4935 6.85368C12.6208 6.72087 12.6872 6.56592 12.6872 6.37777C12.6872 5.9904 12.3829 5.68604 12.0066 5.68604C11.8239 5.68604 11.6469 5.76351 11.5085 5.90186L8.00557 9.50439L4.49158 5.90186C4.35876 5.76904 4.18722 5.68604 3.99353 5.68604C3.61723 5.68604 3.31287 5.9904 3.31287 6.37777C3.31287 6.56038 3.38481 6.72087 3.51208 6.85368L7.45772 10.8934C7.62374 11.0594 7.79529 11.1369 8.00004 11.1369Z"/></svg></div></div>`;
        if (selectTD && selectTD.querySelector(".td-custom-content")) {
          selectTD.insertAdjacentHTML("afterend", extraTD);
        } else if (selectTD) {
          selectTD.insertAdjacentHTML("beforebegin", extraTD);
        }
      }
    }
    function renderCollapsibleDiv(row) {
      const collapsibleDiv = `<div class="tr-resp-collapsible tr-resp-collapsible--collapsed"></div>`;
      if (!row.querySelector(".tr-resp-collapsible")) {
        row.insertAdjacentHTML("beforeend", collapsibleDiv);
      }
    }
    function moveColumnsInsideCollapsibleDiv(row) {
      const offset = keepLastBoolean ? -1 : 0;
      const visibleColumns = screenMode === "mobile" ? maxColumnsMobile : maxColumnsTablet;
      const THs = [...row.querySelectorAll(".th")];
      if (THs.length) {
        THs.slice(THs.length - (THs.length - visibleColumns) + offset, offset).forEach(TH => {
          TH.classList.add("hidden");
        });
      }
      const TDs = [...row.querySelectorAll(".td")];
      if (TDs.length) {
        TDs.slice(TDs.length - (TDs.length - visibleColumns) + offset, offset).forEach((TD, index) => {
          TD.classList.add("hidden");
          const headers = [...datagridWidgetRef.current.querySelectorAll('.widget-datagrid .tr[role="row"]:first-child .th.hidden')];
          const collapsible = row.querySelector(".tr-resp-collapsible");
          const collapsibleContent = `<div class="tr-resp-collapsible__item">
                        <p class="td-text text-bold nomargin">${headers[index]?.querySelector("span").innerHTML}</p>
                            <span class="td-text">${TD.querySelector("span")?.innerHTML}</span>
                        </div>`;
          collapsible.insertAdjacentHTML("beforeend", collapsibleContent);
        });
      }
    }
    function renderElements() {
      // Process each row
      datagridRowsRef.current.forEach(row => {
        renderCollapsibleDiv(row);
        moveColumnsInsideCollapsibleDiv(row);
        renderChevron(row);
      });
      const chevronBtns = [...datagridWidgetRef.current.querySelectorAll(".btn-td-resp-collapse")];
      chevronBtns.forEach(chevronBtn => chevronBtn.addEventListener("click", event => toggleTrCollapse(event, chevronBtn)));
    }
    function resetCollapsibles() {
      const allCollapsibles = [...datagridWidgetRef.current.querySelectorAll(".tr-resp-collapsible")];
      allCollapsibles.forEach(collapsible => collapsible.remove());
    }
    function resetHiddenColumns() {
      const hiddenColumns = [...datagridWidgetRef.current.querySelectorAll(".th.hidden, .td.hidden")];
      hiddenColumns.forEach(hiddenColumn => hiddenColumn.classList.remove("hidden"));
    }
    function resetChevrons() {
      const rows = [...datagridWidgetRef.current.querySelectorAll('.tr[role="row"]')];
      rows.forEach(row => {
        row.querySelector(".th.chevron-th")?.remove();
        row.querySelector(".td.chevron-td")?.remove();
      });
    }
    function onSort() {
      setTimeout(() => {
        resetCollapsibles();
        resetHiddenColumns();
        resetChevrons();
        renderElements();
      }, 100);
    }
    function checkForSorting() {
      const rows = [...datagridWidgetRef.current.querySelectorAll(".tr[role=row]")];
      const headers = [...rows[0].querySelectorAll(".th")];
      headers.forEach(header => header.addEventListener("click", onSort));
    }
    if (canRender && screenMode) {
      // For desktop leave / restore default. For other situations update to mobile / tablet columns
      if (screenMode === "desktop") {
        tableContent.setAttribute("style", templateColumns);
        resetCollapsibles();
        resetHiddenColumns();
        resetChevrons();
      } else {
        setGridColumns();
        resetCollapsibles();
        resetHiddenColumns();
        resetChevrons();
        renderElements();
        checkForSorting();
      }
    }
    if (screenMode !== "desktop") {
      // Detect a change in Data grid 2 after the initial rendering of everything
      const observer = new MutationObserver(() => {
        observer.disconnect();
        if (datagridRowsRef.current !== datagridWidgetRef.current.querySelectorAll(".tr[role=row]")) {
          datagridRowsRef.current = [...datagridWidgetRef.current.querySelectorAll(".tr[role=row]")];
          if (screenMode !== "desktop") {
            resetCollapsibles();
            resetHiddenColumns();
            resetChevrons();
            renderElements();
            checkForSorting();
          }
        }
        observer.observe(datagridWidgetRef.current, config);
      });
      if (datagridWidgetRef && datagridWidgetRef.current) {
        observer.observe(datagridWidgetRef.current, config);
      }
      return () => observer.disconnect();
    }
  });
  useEffect(() => {
    const observer = new MutationObserver(() => {
      observer.disconnect();
      if (datagridWidgetRef.current) {
        setTableContent(datagridWidgetRef.current.querySelector(".widget-datagrid .widget-datagrid-grid-body"));
      }
      observer.observe(datagridWidgetRef.current, config);
    });
    if (datagridWidgetRef && datagridWidgetRef.current) {
      observer.observe(datagridWidgetRef.current, config);
    }
    return () => observer.disconnect();
  });
  useEffect(() => {
    if (tableContent) {
      setTemplateColumns(tableContent.getAttribute("style"));
      if (window.innerWidth <= mobileBreakpoint) {
        setSceenMode("mobile");
      } else if (window.innerWidth > mobileBreakpoint && window.innerWidth < desktopBreakpoint) {
        setSceenMode("tablet");
      } else if (window.innerWidth >= desktopBreakpoint) {
        setSceenMode("desktop");
      }
      setCanRender(true);
    }
  }, [desktopBreakpoint, mobileBreakpoint, tableContent]);
  if (canRender) {
    window.addEventListener("resize", screenSizeCheck);
  }
  return createElement("div", {
    className: `responsive-datagrid ${style}`,
    ref: datagridWidgetRef
  }, dataGridWidget);
}

export { ResponsiveDatagridTwo };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVzcG9uc2l2ZURhdGFncmlkVHdvLm1qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL1Jlc3BvbnNpdmVEYXRhZ3JpZFR3by5qc3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwiLi91aS9SZXNwb25zaXZlRGF0YWdyaWRUd28uY3NzXCI7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFJlc3BvbnNpdmVEYXRhZ3JpZFR3byh7XG4gICAgZGF0YUdyaWRXaWRnZXQsXG4gICAgZGVza3RvcEJyZWFrcG9pbnQsXG4gICAga2VlcExhc3RCb29sZWFuLFxuICAgIG1heENvbHVtbnNNb2JpbGUsXG4gICAgbWF4Q29sdW1uc1RhYmxldCxcbiAgICBtb2JpbGVCcmVha3BvaW50LFxuICAgIC4uLnJlc3Rcbn0pIHtcbiAgICBjb25zdCBzdHlsZSA9IHJlc3QuY2xhc3MgfHwgXCJcIjtcbiAgICBjb25zdCBkYXRhZ3JpZFdpZGdldFJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBkYXRhZ3JpZFJvd3NSZWYgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IFt0YWJsZUNvbnRlbnQsIHNldFRhYmxlQ29udGVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbY2FuUmVuZGVyLCBzZXRDYW5SZW5kZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFt0ZW1wbGF0ZUNvbHVtbnMsIHNldFRlbXBsYXRlQ29sdW1uc10gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc2NyZWVuTW9kZSwgc2V0U2NlZW5Nb2RlXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGNvbmZpZyA9IHtcbiAgICAgICAgLy8gYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgLy8gYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZSwgLy8gVGhpcyBpcyBhIG11c3QgaGF2ZSBmb3IgdGhlIG9ic2VydmVyIHdpdGggc3VidHJlZVxuICAgICAgICBzdWJ0cmVlOiB0cnVlIC8vIFNldCB0byB0cnVlIGlmIGNoYW5nZXMgbXVzdCBhbHNvIGJlIG9ic2VydmVkIGluIGRlc2NlbmRhbnRzLlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzY3JlZW5TaXplQ2hlY2soKSB7XG4gICAgICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSBtb2JpbGVCcmVha3BvaW50KSB7XG4gICAgICAgICAgICBpZiAoc2NyZWVuTW9kZSAhPT0gXCJtb2JpbGVcIikge1xuICAgICAgICAgICAgICAgIHNldFNjZWVuTW9kZShcIm1vYmlsZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+IG1vYmlsZUJyZWFrcG9pbnQgJiYgd2luZG93LmlubmVyV2lkdGggPCBkZXNrdG9wQnJlYWtwb2ludCkge1xuICAgICAgICAgICAgaWYgKHNjcmVlbk1vZGUgIT09IFwidGFibGV0XCIpIHtcbiAgICAgICAgICAgICAgICBzZXRTY2Vlbk1vZGUoXCJ0YWJsZXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LmlubmVyV2lkdGggPj0gZGVza3RvcEJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgIGlmIChzY3JlZW5Nb2RlICE9PSBcImRlc2t0b3BcIikge1xuICAgICAgICAgICAgICAgIHNldFNjZWVuTW9kZShcImRlc2t0b3BcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmdW5jdGlvbiBzZXRHcmlkQ29sdW1ucygpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IGtlZXBMYXN0Qm9vbGVhbiA/IC0xIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbkFycmF5ID0gdGVtcGxhdGVDb2x1bW5zLnJlcGxhY2UoXCJncmlkLXRlbXBsYXRlLWNvbHVtbnM6IFwiLCBcIlwiKS5zcGxpdCgvICg/IVteKCldKlxcKSkvKTsgLy8gUmVnZXggZm9yIHNwYWNlIHdoZW4gbm90IGluc2lkZSAoKVxuICAgICAgICAgICAgY29uc3QgdmlzaWJsZUNvbHVtbnMgPSBzY3JlZW5Nb2RlID09PSBcIm1vYmlsZVwiID8gbWF4Q29sdW1uc01vYmlsZSA6IG1heENvbHVtbnNUYWJsZXQ7XG4gICAgICAgICAgICBjb25zdCBtYXhDb2x1bW5BcnJheSA9IGNvbHVtbkFycmF5LnNsaWNlKGNvbHVtbkFycmF5Lmxlbmd0aCAtIHZpc2libGVDb2x1bW5zIC0gb2Zmc2V0KTsgLy8gcmVtb3ZlIGFsbCBidXQgdGhlIGxhc3QgbWF4Q29sdW1uc01vYmlsZVxuXG4gICAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgbWF4Q29sdW1uQXJyYXkucHVzaChcImZpdC1jb250ZW50KDEwMCUpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4Q29sdW1uQXJyYXkuam9pbihcIiBcIikucmVwbGFjZShcIjtcIiwgXCJcIik7XG4gICAgICAgICAgICBtYXhDb2x1bW5BcnJheS51bnNoaWZ0KFwiZml0LWNvbnRlbnQoMTAwJSlcIik7IC8vIGFkZCBuZXcgY29sdW1uIGZvciB0aGUgY2hldnJvblxuICAgICAgICAgICAgbWF4Q29sdW1uQXJyYXkuc3BsaWNlKDIsIDEsIFwiMWZyXCIpOyAvLyBjb252ZXJ0IGF0IGxlYXN0IG9uZSBhdXRvLWZpbGwgY29sdW1uIHRvIGF1dG8tZmlsbFxuICAgICAgICAgICAgdGFibGVDb250ZW50LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBncmlkLXRlbXBsYXRlLWNvbHVtbnM6ICR7bWF4Q29sdW1uQXJyYXkuam9pbihcIiBcIikucmVwbGFjZShcIjtcIiwgXCJcIil9O2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gdG9nZ2xlVHJDb2xsYXBzZShldmVudCwgY2hldnJvbkJ0bikge1xuICAgICAgICAgICAgY29uc3Qgbm90Q29sbGFwc2VkID0gW1xuICAgICAgICAgICAgICAgIC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudHItcmVzcC1jb2xsYXBzaWJsZTpub3QoLnRyLXJlc3AtY29sbGFwc2libGUtLWNvbGxhcHNlZClcIilcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAobm90Q29sbGFwc2VkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG5vdENvbGxhcHNlZC5mb3JFYWNoKGNoZXZyb25Sb3cgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dCdG4gPSBjaGV2cm9uUm93LnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdGQtcmVzcC1jb2xsYXBzZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvd0J0biAhPT0gY2hldnJvbkJ0bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hldnJvblJvdy5jbGFzc0xpc3QudG9nZ2xlKFwidHItcmVzcC1jb2xsYXBzaWJsZS0tY29sbGFwc2VkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hldnJvblJvdy5wYXJlbnRFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLXRkLXJlc3AtY29sbGFwc2VcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LnRvZ2dsZShcImJ0bi10ZC1yZXNwLWNvbGxhcHNlLS1hY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hldnJvbkJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiYnRuLXRkLXJlc3AtY29sbGFwc2UtLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldFxuICAgICAgICAgICAgICAgIC5jbG9zZXN0KFwiLnRyXCIpXG4gICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIudHItcmVzcC1jb2xsYXBzaWJsZVwiKVxuICAgICAgICAgICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwidHItcmVzcC1jb2xsYXBzaWJsZS0tY29sbGFwc2VkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlIGNvbHVtbiB0byBpbnNlcnQgdGhlIGNoZXZyb25cbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyQ2hldnJvbihyb3cpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGZpcnN0IFRIIGlmIHRoZXJlIGlzIG5vIGNoZXZyb24gcHJlc2VudFxuICAgICAgICAgICAgaWYgKCFyb3cucXVlcnlTZWxlY3RvcihcIi50aC5jaGV2cm9uLXRoXCIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0VEggPSByb3cucXVlcnlTZWxlY3RvcihcIi50aFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBleHRyYVRIID0gYDxkaXYgY2xhc3M9XCJ0aCBjaGV2cm9uLXRoXCIgcm9sZT1cImNvbHVtbmhlYWRlclwiPjxkaXYgY2xhc3M9XCJjb2x1bW4tY29udGFpbmVyXCI+Jm5ic3A7PC9kaXY+PC9kaXY+YDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0VEggJiYgc2VsZWN0VEgucXVlcnlTZWxlY3RvcihcIi50ZC1jdXN0b20tY29udGVudFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RUSC5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmVuZFwiLCBleHRyYVRIKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdFRIKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRILmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWJlZ2luXCIsIGV4dHJhVEgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2hlY2sgZmlyc3QgVEQgaWYgdGhlcmUgaXMgbm8gY2hldnJvbiBwcmVzZW50XG4gICAgICAgICAgICBpZiAoIXJvdy5xdWVyeVNlbGVjdG9yKFwiLnRkLmNoZXZyb24tdGRcIikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RURCA9IHJvdy5xdWVyeVNlbGVjdG9yKFwiLnRkXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvcmRlckNsYXNzID0gcm93LnF1ZXJ5U2VsZWN0b3IoXCIudGQtYm9yZGVyc1wiKSA/IFwidGQtYm9yZGVycyBcIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgY29uc3QgZXh0cmFURCA9IGA8ZGl2IGNsYXNzPVwidGQgJHtib3JkZXJDbGFzc31jaGV2cm9uLXRkIGJ0bi10ZC1yZXNwLWNvbGxhcHNlXCIgcm9sZT1cImdyaWRjZWxsXCI+PGRpdiBjbGFzcz1cInRkLWN1c3RvbS1jb250ZW50XCI+PHN2ZyBoZWlnaHQ9XCIxNlwiIHdpZHRoPVwiMTZcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj48cGF0aCBkPVwiTTguMDAwMDQgMTEuMTM2OUM4LjIxMDMzIDExLjEzNjkgOC4zODc0MSAxMS4wNTM5IDguNTQ3ODkgMTAuODkzNEwxMi40OTM1IDYuODUzNjhDMTIuNjIwOCA2LjcyMDg3IDEyLjY4NzIgNi41NjU5MiAxMi42ODcyIDYuMzc3NzdDMTIuNjg3MiA1Ljk5MDQgMTIuMzgyOSA1LjY4NjA0IDEyLjAwNjYgNS42ODYwNEMxMS44MjM5IDUuNjg2MDQgMTEuNjQ2OSA1Ljc2MzUxIDExLjUwODUgNS45MDE4Nkw4LjAwNTU3IDkuNTA0MzlMNC40OTE1OCA1LjkwMTg2QzQuMzU4NzYgNS43NjkwNCA0LjE4NzIyIDUuNjg2MDQgMy45OTM1MyA1LjY4NjA0QzMuNjE3MjMgNS42ODYwNCAzLjMxMjg3IDUuOTkwNCAzLjMxMjg3IDYuMzc3NzdDMy4zMTI4NyA2LjU2MDM4IDMuMzg0ODEgNi43MjA4NyAzLjUxMjA4IDYuODUzNjhMNy40NTc3MiAxMC44OTM0QzcuNjIzNzQgMTEuMDU5NCA3Ljc5NTI5IDExLjEzNjkgOC4wMDAwNCAxMS4xMzY5WlwiLz48L3N2Zz48L2Rpdj48L2Rpdj5gO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RURCAmJiBzZWxlY3RURC5xdWVyeVNlbGVjdG9yKFwiLnRkLWN1c3RvbS1jb250ZW50XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdFRELmluc2VydEFkamFjZW50SFRNTChcImFmdGVyZW5kXCIsIGV4dHJhVEQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0VEQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VEQuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlYmVnaW5cIiwgZXh0cmFURCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVuZGVyQ29sbGFwc2libGVEaXYocm93KSB7XG4gICAgICAgICAgICBjb25zdCBjb2xsYXBzaWJsZURpdiA9IGA8ZGl2IGNsYXNzPVwidHItcmVzcC1jb2xsYXBzaWJsZSB0ci1yZXNwLWNvbGxhcHNpYmxlLS1jb2xsYXBzZWRcIj48L2Rpdj5gO1xuICAgICAgICAgICAgaWYgKCFyb3cucXVlcnlTZWxlY3RvcihcIi50ci1yZXNwLWNvbGxhcHNpYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgcm93Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBjb2xsYXBzaWJsZURpdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBtb3ZlQ29sdW1uc0luc2lkZUNvbGxhcHNpYmxlRGl2KHJvdykge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0ga2VlcExhc3RCb29sZWFuID8gLTEgOiAwO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJsZUNvbHVtbnMgPSBzY3JlZW5Nb2RlID09PSBcIm1vYmlsZVwiID8gbWF4Q29sdW1uc01vYmlsZSA6IG1heENvbHVtbnNUYWJsZXQ7XG4gICAgICAgICAgICBjb25zdCBUSHMgPSBbLi4ucm93LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGhcIildO1xuICAgICAgICAgICAgaWYgKFRIcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBUSHMuc2xpY2UoVEhzLmxlbmd0aCAtIChUSHMubGVuZ3RoIC0gdmlzaWJsZUNvbHVtbnMpICsgb2Zmc2V0LCBvZmZzZXQpLmZvckVhY2goVEggPT4ge1xuICAgICAgICAgICAgICAgICAgICBUSC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBURHMgPSBbLi4ucm93LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGRcIildO1xuICAgICAgICAgICAgaWYgKFREcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBURHMuc2xpY2UoVERzLmxlbmd0aCAtIChURHMubGVuZ3RoIC0gdmlzaWJsZUNvbHVtbnMpICsgb2Zmc2V0LCBvZmZzZXQpLmZvckVhY2goKFRELCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBURC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YWdyaWRXaWRnZXRSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcud2lkZ2V0LWRhdGFncmlkIC50cltyb2xlPVwicm93XCJdOmZpcnN0LWNoaWxkIC50aC5oaWRkZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxhcHNpYmxlID0gcm93LnF1ZXJ5U2VsZWN0b3IoXCIudHItcmVzcC1jb2xsYXBzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGFwc2libGVDb250ZW50ID0gYDxkaXYgY2xhc3M9XCJ0ci1yZXNwLWNvbGxhcHNpYmxlX19pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRkLXRleHQgdGV4dC1ib2xkIG5vbWFyZ2luXCI+JHtoZWFkZXJzW2luZGV4XT8ucXVlcnlTZWxlY3RvcihcInNwYW5cIikuaW5uZXJIVE1MfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRkLXRleHRcIj4ke1RELnF1ZXJ5U2VsZWN0b3IoXCJzcGFuXCIpPy5pbm5lckhUTUx9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2libGUuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIGNvbGxhcHNpYmxlQ29udGVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZW5kZXJFbGVtZW50cygpIHtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgZWFjaCByb3dcbiAgICAgICAgICAgIGRhdGFncmlkUm93c1JlZi5jdXJyZW50LmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgICAgICByZW5kZXJDb2xsYXBzaWJsZURpdihyb3cpO1xuICAgICAgICAgICAgICAgIG1vdmVDb2x1bW5zSW5zaWRlQ29sbGFwc2libGVEaXYocm93KTtcbiAgICAgICAgICAgICAgICByZW5kZXJDaGV2cm9uKHJvdyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgY2hldnJvbkJ0bnMgPSBbLi4uZGF0YWdyaWRXaWRnZXRSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJ0bi10ZC1yZXNwLWNvbGxhcHNlXCIpXTtcbiAgICAgICAgICAgIGNoZXZyb25CdG5zLmZvckVhY2goY2hldnJvbkJ0biA9PlxuICAgICAgICAgICAgICAgIGNoZXZyb25CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHRvZ2dsZVRyQ29sbGFwc2UoZXZlbnQsIGNoZXZyb25CdG4pKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0Q29sbGFwc2libGVzKCkge1xuICAgICAgICAgICAgY29uc3QgYWxsQ29sbGFwc2libGVzID0gWy4uLmRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIi50ci1yZXNwLWNvbGxhcHNpYmxlXCIpXTtcbiAgICAgICAgICAgIGFsbENvbGxhcHNpYmxlcy5mb3JFYWNoKGNvbGxhcHNpYmxlID0+IGNvbGxhcHNpYmxlLnJlbW92ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0SGlkZGVuQ29sdW1ucygpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpZGRlbkNvbHVtbnMgPSBbLi4uZGF0YWdyaWRXaWRnZXRSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRoLmhpZGRlbiwgLnRkLmhpZGRlblwiKV07XG4gICAgICAgICAgICBoaWRkZW5Db2x1bW5zLmZvckVhY2goaGlkZGVuQ29sdW1uID0+IGhpZGRlbkNvbHVtbi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0Q2hldnJvbnMoKSB7XG4gICAgICAgICAgICBjb25zdCByb3dzID0gWy4uLmRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbCgnLnRyW3JvbGU9XCJyb3dcIl0nKV07XG4gICAgICAgICAgICByb3dzLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgICAgICByb3cucXVlcnlTZWxlY3RvcihcIi50aC5jaGV2cm9uLXRoXCIpPy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICByb3cucXVlcnlTZWxlY3RvcihcIi50ZC5jaGV2cm9uLXRkXCIpPy5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25Tb3J0KCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzZXRDb2xsYXBzaWJsZXMoKTtcbiAgICAgICAgICAgICAgICByZXNldEhpZGRlbkNvbHVtbnMoKTtcbiAgICAgICAgICAgICAgICByZXNldENoZXZyb25zKCk7XG4gICAgICAgICAgICAgICAgcmVuZGVyRWxlbWVudHMoKTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBjaGVja0ZvclNvcnRpbmcoKSB7XG4gICAgICAgICAgICBjb25zdCByb3dzID0gWy4uLmRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIi50cltyb2xlPXJvd11cIildO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IFsuLi5yb3dzWzBdLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGhcIildO1xuICAgICAgICAgICAgaGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiBoZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uU29ydCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNhblJlbmRlciAmJiBzY3JlZW5Nb2RlKSB7XG4gICAgICAgICAgICAvLyBGb3IgZGVza3RvcCBsZWF2ZSAvIHJlc3RvcmUgZGVmYXVsdC4gRm9yIG90aGVyIHNpdHVhdGlvbnMgdXBkYXRlIHRvIG1vYmlsZSAvIHRhYmxldCBjb2x1bW5zXG4gICAgICAgICAgICBpZiAoc2NyZWVuTW9kZSA9PT0gXCJkZXNrdG9wXCIpIHtcbiAgICAgICAgICAgICAgICB0YWJsZUNvbnRlbnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgdGVtcGxhdGVDb2x1bW5zKTtcbiAgICAgICAgICAgICAgICByZXNldENvbGxhcHNpYmxlcygpO1xuICAgICAgICAgICAgICAgIHJlc2V0SGlkZGVuQ29sdW1ucygpO1xuICAgICAgICAgICAgICAgIHJlc2V0Q2hldnJvbnMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0R3JpZENvbHVtbnMoKTtcblxuICAgICAgICAgICAgICAgIHJlc2V0Q29sbGFwc2libGVzKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRIaWRkZW5Db2x1bW5zKCk7XG4gICAgICAgICAgICAgICAgcmVzZXRDaGV2cm9ucygpO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyRWxlbWVudHMoKTtcbiAgICAgICAgICAgICAgICBjaGVja0ZvclNvcnRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzY3JlZW5Nb2RlICE9PSBcImRlc2t0b3BcIikge1xuICAgICAgICAgICAgLy8gRGV0ZWN0IGEgY2hhbmdlIGluIERhdGEgZ3JpZCAyIGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvZiBldmVyeXRoaW5nXG4gICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGFncmlkUm93c1JlZi5jdXJyZW50ICE9PSBkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudHJbcm9sZT1yb3ddXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFncmlkUm93c1JlZi5jdXJyZW50ID0gWy4uLmRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvckFsbChcIi50cltyb2xlPXJvd11cIildO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NyZWVuTW9kZSAhPT0gXCJkZXNrdG9wXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Q29sbGFwc2libGVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldEhpZGRlbkNvbHVtbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Q2hldnJvbnMoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyRWxlbWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrRm9yU29ydGluZygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhZ3JpZFdpZGdldFJlZiAmJiBkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGlmIChkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgc2V0VGFibGVDb250ZW50KGRhdGFncmlkV2lkZ2V0UmVmLmN1cnJlbnQucXVlcnlTZWxlY3RvcihcIi53aWRnZXQtZGF0YWdyaWQgLndpZGdldC1kYXRhZ3JpZC1ncmlkLWJvZHlcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZGF0YWdyaWRXaWRnZXRSZWYgJiYgZGF0YWdyaWRXaWRnZXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkYXRhZ3JpZFdpZGdldFJlZi5jdXJyZW50LCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh0YWJsZUNvbnRlbnQpIHtcbiAgICAgICAgICAgIHNldFRlbXBsYXRlQ29sdW1ucyh0YWJsZUNvbnRlbnQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikpO1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IG1vYmlsZUJyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICBzZXRTY2Vlbk1vZGUoXCJtb2JpbGVcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5pbm5lcldpZHRoID4gbW9iaWxlQnJlYWtwb2ludCAmJiB3aW5kb3cuaW5uZXJXaWR0aCA8IGRlc2t0b3BCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgc2V0U2NlZW5Nb2RlKFwidGFibGV0XCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA+PSBkZXNrdG9wQnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgIHNldFNjZWVuTW9kZShcImRlc2t0b3BcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDYW5SZW5kZXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCBbZGVza3RvcEJyZWFrcG9pbnQsIG1vYmlsZUJyZWFrcG9pbnQsIHRhYmxlQ29udGVudF0pO1xuXG4gICAgaWYgKGNhblJlbmRlcikge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBzY3JlZW5TaXplQ2hlY2spO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVzcG9uc2l2ZS1kYXRhZ3JpZCAke3N0eWxlfWB9IHJlZj17ZGF0YWdyaWRXaWRnZXRSZWZ9PlxuICAgICAgICAgICAge2RhdGFHcmlkV2lkZ2V0fVxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufVxuIl0sIm5hbWVzIjpbIlJlc3BvbnNpdmVEYXRhZ3JpZFR3byIsImRhdGFHcmlkV2lkZ2V0IiwiZGVza3RvcEJyZWFrcG9pbnQiLCJrZWVwTGFzdEJvb2xlYW4iLCJtYXhDb2x1bW5zTW9iaWxlIiwibWF4Q29sdW1uc1RhYmxldCIsIm1vYmlsZUJyZWFrcG9pbnQiLCJyZXN0Iiwic3R5bGUiLCJjbGFzcyIsImRhdGFncmlkV2lkZ2V0UmVmIiwidXNlUmVmIiwiZGF0YWdyaWRSb3dzUmVmIiwidGFibGVDb250ZW50Iiwic2V0VGFibGVDb250ZW50IiwidXNlU3RhdGUiLCJjYW5SZW5kZXIiLCJzZXRDYW5SZW5kZXIiLCJ0ZW1wbGF0ZUNvbHVtbnMiLCJzZXRUZW1wbGF0ZUNvbHVtbnMiLCJzY3JlZW5Nb2RlIiwic2V0U2NlZW5Nb2RlIiwiY29uZmlnIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsInNjcmVlblNpemVDaGVjayIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJ1c2VFZmZlY3QiLCJzZXRHcmlkQ29sdW1ucyIsIm9mZnNldCIsImNvbHVtbkFycmF5IiwicmVwbGFjZSIsInNwbGl0IiwidmlzaWJsZUNvbHVtbnMiLCJtYXhDb2x1bW5BcnJheSIsInNsaWNlIiwibGVuZ3RoIiwicHVzaCIsImpvaW4iLCJ1bnNoaWZ0Iiwic3BsaWNlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlVHJDb2xsYXBzZSIsImV2ZW50IiwiY2hldnJvbkJ0biIsIm5vdENvbGxhcHNlZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjaGV2cm9uUm93Iiwicm93QnRuIiwicGFyZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0YXJnZXQiLCJjbG9zZXN0IiwicmVuZGVyQ2hldnJvbiIsInJvdyIsInNlbGVjdFRIIiwiZXh0cmFUSCIsImluc2VydEFkamFjZW50SFRNTCIsInNlbGVjdFREIiwiYm9yZGVyQ2xhc3MiLCJleHRyYVREIiwicmVuZGVyQ29sbGFwc2libGVEaXYiLCJjb2xsYXBzaWJsZURpdiIsIm1vdmVDb2x1bW5zSW5zaWRlQ29sbGFwc2libGVEaXYiLCJUSHMiLCJUSCIsImFkZCIsIlREcyIsIlREIiwiaW5kZXgiLCJoZWFkZXJzIiwiY3VycmVudCIsImNvbGxhcHNpYmxlIiwiY29sbGFwc2libGVDb250ZW50IiwiaW5uZXJIVE1MIiwicmVuZGVyRWxlbWVudHMiLCJjaGV2cm9uQnRucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNldENvbGxhcHNpYmxlcyIsImFsbENvbGxhcHNpYmxlcyIsInJlbW92ZSIsInJlc2V0SGlkZGVuQ29sdW1ucyIsImhpZGRlbkNvbHVtbnMiLCJoaWRkZW5Db2x1bW4iLCJyZXNldENoZXZyb25zIiwicm93cyIsIm9uU29ydCIsInNldFRpbWVvdXQiLCJjaGVja0ZvclNvcnRpbmciLCJoZWFkZXIiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJkaXNjb25uZWN0Iiwib2JzZXJ2ZSIsImdldEF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJyZWYiXSwibWFwcGluZ3MiOiI7O0FBR08sU0FBU0EscUJBQXFCQSxDQUFDO0VBQ2xDQyxjQUFjO0VBQ2RDLGlCQUFpQjtFQUNqQkMsZUFBZTtFQUNmQyxnQkFBZ0I7RUFDaEJDLGdCQUFnQjtFQUNoQkMsZ0JBQWdCO0VBQ2hCLEdBQUdDLElBQUFBO0FBQ1AsQ0FBQyxFQUFFO0FB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
